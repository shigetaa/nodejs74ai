# 人口無能と会話しよう
人口無能は古くからたくさん作られてきました。
ユーバーが語る言葉に反応して、ロボットがそれらしい応答するプログラムです。
ここでは、人口無能の仕組みを解説し基本的な処理に注目して、プログラムを作っていきます。

## 人口無能について
人口無能とは、人口知能に対応する用語です。
また、人口無能を実装したプログラムを「ボット(bot)」と呼びます。
ボットというのはロボットの略称で、もともと人間がコンピューターを操作して行っていた処理を、人間に代わって自動的に実行すｒプログラムの事を言います。

## ここで作る人工無能
ここでは、Node.jsのサーバー機能を使って、Webブラウザー上で会話ができるプログラムを作ってみます。
また、簡単なキーワードに反応する会話ボットをつくります。
今回用意した会話辞書は100行程度ですが、後々拡張できるように、MongoDBにキーワードを入れておいて、そこから会話データを引っ張てくるようにします。

### 会話の仕組み
本プログラムでは、以下の様にして会話します。

1. ユーザーから入力を得る
2. 入力を形態素解析する
3. 各単語についてデータベースの会話辞書を調べる
4. もし一致するものがあればその返答を返す

人工無能プログラム関連ファイル一覧
| ファイル名         | 説明                                          |
| :----------------- | :-------------------------------------------- |
| bot-dic.dat        | 会話辞書テキスト                              |
| make-dic.js        | 会話辞書テキストをMongoDBを挿入するプログラム |
| chat-client.html   | チャットする画面HTML                          |
| chat-server.js     | 会話ボットとチャットするサーバー              |
| chat-server-bot.js | 会話ボットの動作を定義したモジュール          |
| package.json       | 必要なモジュールなどの情報を記録したファイル  |

今回のプログラムを実行するには、前段階として、会話辞書をデータベースに登録する必要があります。
そのための辞書データが「bot-dic.dat」であり、データベースに登録するプログラムが「make-dic.js」です。

そして、Webブラウザーから利用するために、HTTPサーバーを作成しますが、それが「chat-server.js」です。
基本的にこのプログラムを実行し、Webブラウザーでこのサーバーにアクセスすると、会話を行う事が出来ます。

### プログラムの実行方法
プログラムを実行する前に、必要なモジュールをインストールしておきます。
データベースに「mongodb」、形態素解析に「mecab-lite」を使用しますので以下のコマンドを実行してインストールします。
```bash
npm i mecab-lite mongodb
```

### mongodb インストール
まだ、mongodb をインストールしていない場合は、以下のサイトからダウンロードしてインストールをしてください。

[MongoDB Community Server<br>https://www.mongodb.com/try/download/community](https://www.mongodb.com/try/download/community)

無事にインストール出来たら、以下のコマンドを実行して、バージョン情報が表示されたら使用出来ます。
```bash
mongo --version
```
バージョン情報が表示されず、エラーなどが表示される場合は、実行ファイルにパスを通して見てください。

### 辞書データ作成


### 辞書データ登録

以下のスクリプトを実行して、辞書をデータベースに登録します。

### 会話ボットとのチャット画面


### 会話ボットサーバー


### 会話ボットの会話生成モジュール

